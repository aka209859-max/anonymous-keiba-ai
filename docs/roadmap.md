# 最強地方競馬AI開発ロードマップ

この計画は、**「大量の過去データを投入し、Borutaに有効なファクターを選抜させ、Optunaで精度を最大化する」**というアプローチです。

## フェーズ1：ベースコード「Development Ver.」の構築
- **目的**: 特徴量選択（Boruta）と自動チューニング（Optuna）を同時に行う強力な学習用Pythonスクリプトを作成する。
- **重要**: ここで作成するコードが全てのモデルの母体となります。

## フェーズ2：全ファクターを含む「巨大な学習データ」の作成 (SQL)
- **目的**: 過去走（1〜5走前）、血統、騎手、調教師、コース適性など、PC-KEIBAにある静的データをすべて含んだCSVを作る。
- **制約**: 当日オッズ、当日馬体重、当日人気はSQLで除外する。
- **戦略**: 競馬場ごとに特性が強いため、「南関」「ばんえい」「その他」あるいは「競馬場ごと」にモデルを分けることを推奨。

## フェーズ3：3つの特化モデル生成
同じデータセットを使い、異なる「正解」を学習させる。

1. **ランキング学習 (Lambdarank)**: 「A馬はB馬より強いか？」という相対評価。
2. **二値分類 (Binary)**: 「3着以内に入る確率は？」という絶対評価。
3. **回帰分析 (Regression)**: 「走破タイム」の予測（能力指数の代替）。

## フェーズ4：アンサンブル（最終決定）
- **目的**: 3つのAIの意見をSQLで統合し、買い目を決定する。
- **手法**: ランキング順位を基本にしつつ、二値分類の確率が低い馬を消し、回帰分析のタイムが良い穴馬を拾う。

## 開発のアドバイス
- **Borutaの処理時間**: 全ファクター（数百カラム）を入れると、数時間〜数日かかる可能性。最初は「直近1年分」や「特定の競馬場」でテスト。
- **特徴量の選抜**: Borutaにより「人間には気づけないが、AIには重要だと分かるファクター」だけが残ります。
