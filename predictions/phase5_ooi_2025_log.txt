
================================================================================
ğŸš€ å¤§äº•2025å¹´ Phase 5 ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«çµ±åˆ å®Ÿè¡Œé–‹å§‹
================================================================================
ğŸ“… å®Ÿè¡Œæ—¥æ™‚: 2026å¹´02æœˆ05æ—¥ 23:44:26

ğŸ“‹ ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ç¢ºèª:
   âœ… ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿: /home/user/uploaded_files/ooi_2025_full_test_with_time.csv
   âœ… ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿(race_idä»˜ã): /home/user/uploaded_files/ooi_2025_full_test_with_race_id.csv
   âœ… Phase 3 ãƒ¢ãƒ‡ãƒ«: /home/user/uploaded_files/ooi_2023-2025_v3_model.txt
   âœ… Phase 4 ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ¢ãƒ‡ãƒ«: /home/user/uploaded_files/ooi_2023-2025_v3_with_race_id_ranking_model.txt
   âœ… Phase 4 å›å¸°äºˆæ¸¬çµæœ: /home/user/uploaded_files/ooi_2025_phase4_regression_v3_fixed.csv

âœ… å…¨ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèªå®Œäº†

================================================================================
Step 1/6: Phase 3 äºŒå€¤åˆ†é¡äºˆæ¸¬
================================================================================
ğŸ“¥ ãƒ¢ãƒ‡ãƒ«èª­ã¿è¾¼ã¿ä¸­: /home/user/uploaded_files/ooi_2023-2025_v3_model.txt
ğŸ”‘ ãƒ¢ãƒ‡ãƒ«ç‰¹å¾´é‡æ•°: 49
ğŸ“¥ ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ä¸­: /home/user/uploaded_files/ooi_2025_full_test_with_time.csv
âœ… ãƒ‡ãƒ¼ã‚¿ä»¶æ•°: 2,803ä»¶
ğŸ”® äºˆæ¸¬å®Ÿè¡Œä¸­... (ç‰¹å¾´é‡æ•°: 49)
âœ… äºˆæ¸¬çµæœä¿å­˜: /home/user/webapp/predictions/phase5_ooi_2025/ooi_2025_phase3_binary_predictions.csv
   - å…¥ç·šç¢ºç‡ å¹³å‡: 0.2468
   - å…¥ç·šäºˆæ¸¬æ•°: 551é ­

================================================================================
Step 2/6: Phase 4 ãƒ©ãƒ³ã‚­ãƒ³ã‚°äºˆæ¸¬
================================================================================
ğŸ“¥ ãƒ¢ãƒ‡ãƒ«èª­ã¿è¾¼ã¿ä¸­: /home/user/uploaded_files/ooi_2023-2025_v3_with_race_id_ranking_model.txt
ğŸ”‘ ãƒ¢ãƒ‡ãƒ«ç‰¹å¾´é‡æ•°: 49
ğŸ“¥ ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ä¸­: /home/user/uploaded_files/ooi_2025_full_test_with_race_id.csv
âœ… ãƒ‡ãƒ¼ã‚¿ä»¶æ•°: 2,803ä»¶
ğŸ”® äºˆæ¸¬å®Ÿè¡Œä¸­... (ç‰¹å¾´é‡æ•°: 49)
âœ… äºˆæ¸¬çµæœä¿å­˜: /home/user/webapp/predictions/phase5_ooi_2025/ooi_2025_phase4_ranking_predictions.csv
   - ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚¹ã‚³ã‚¢ å¹³å‡: 0.4367
   - æœ€å°å€¤: 0.0000, æœ€å¤§å€¤: 1.0000

================================================================================
Step 3/6: Phase 5 ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«çµ±åˆ
================================================================================
ğŸ“Š ã‚¦ã‚§ã‚¤ãƒˆè¨­å®š:
   - äºŒå€¤åˆ†é¡: 30.0%
   - ãƒ©ãƒ³ã‚­ãƒ³ã‚°: 50.0%
   - å›å¸°äºˆæ¸¬: 20.0%

ğŸ“¥ äºˆæ¸¬çµæœèª­ã¿è¾¼ã¿ä¸­...
   - äºŒå€¤åˆ†é¡: 2,803ä»¶
   - ãƒ©ãƒ³ã‚­ãƒ³ã‚°: 2,803ä»¶
   - å›å¸°äºˆæ¸¬: 2,803ä»¶

ğŸ”— ãƒ‡ãƒ¼ã‚¿çµ±åˆä¸­...
Traceback (most recent call last):
  File "/home/user/webapp/run_phase5_ooi_2025.py", line 333, in <module>
    main()
  File "/home/user/webapp/run_phase5_ooi_2025.py", line 305, in main
    df_ensemble = ensemble_integration(
                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/user/webapp/run_phase5_ooi_2025.py", line 188, in ensemble_integration
    df = df.merge(df_ranking[merge_cols + ['ranking_score']], 
                  ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/pandas/core/frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/usr/local/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['kaisai_nen'] not in index"
