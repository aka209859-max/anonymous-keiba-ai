# 🔍 JRDB データダウンロード方法 - ディープサーチ用指示文

**作成日**: 2026年02月14日（更新）  
**目的**: JRDBのデータを全てローカルPCにダウンロードする方法を調査  
**データ範囲**: **15年分（2010年〜2025年）** - 全データ取得（特に独自指数）

---

## 🎯 調査目的

中央競馬（JRA）AI予想システムを構築するため、**JRDB** から過去15年分のデータ（特に独自指数）を**全て**ローカルPCにダウンロードしたい。

---

## 📋 知りたいこと（優先度順）

### 1. JRDB の基本情報

- **公式サイト**: URL
- **サービス概要**: どのようなデータが提供されているか
  - 特に **独自指数**（IDM、タイム指数、ペース指数など）に注目
- **料金体系**: 月額料金、初期費用、データ量による追加料金の有無
- **対応データ形式**: CSV、JSON、SQLなど
- **データ更新頻度**: リアルタイム、日次、週次など
- **提供データの範囲**: 何年前まで遡れるか（2010年以前も可能か？）

### 2. JRDB独自指数の詳細（全て取得）

#### 2.1 最重要指数
- **IDM（総合指数）**: 
  - どのように計算されているか
  - 範囲（最小値〜最大値）
  - 精度・的中率
  - **前日時点のIDM値も取得可能か？**

#### 2.2 その他の独自指数（全て）
- **タイム指数**: 走破タイムの標準化指数
- **ペース指数**: ペース（逃げ/先行/差し/追込）の評価
- **馬場指数**: 馬場状態の影響度
- **位置取り指数**: 位置取りの評価
- **騎手指数**: 騎手の能力評価
- **調教師指数**: 調教師の能力評価
- **厩舎指数**: 厩舎の総合力評価
- **馬主指数**: 馬主の評価（あれば）
- **血統指数**: 血統の評価
- **血統ポイント**: 血統の得点化
- **コース適性指数**: コース別の適性評価
- **距離適性指数**: 距離別の適性評価
- **馬場状態適性指数**: 馬場状態別の適性評価
- **トラック適性指数**: 芝/ダート別の適性評価
- **展開予想指数**: 位置取り、脚質の予想
- **脚質スコア**: 逃げ/先行/差し/追込のスコア化
- **調教評価指数**: 追い切りタイムの評価
- **馬体評価指数**: 馬体重、馬体重増減の評価
- **パドック評価指数**: パドック評価（取得可能な場合）
- **輸送指数**: 輸送区分の影響評価（地方→中央など）

#### 2.3 前日情報（最重要）
- **前日IDM**: 前日時点でのIDM値
- **前日各種指数**: 前日時点での各種独自指数
- **前日コメント**: 調教師コメント、厩舎コメント
- **前日予想**: JRDB独自の前日予想
- **前日オッズ分析**: 前日オッズに基づく分析

### 3. データダウンロード方法

#### 3.1 公式SDK・ツール
- **JRDB SDK**: 公式提供のSDKの有無
  - インストール方法（Windows/Mac/Linux対応状況）
  - Python対応の有無
  - 使用方法（サンプルコード）
  - ドキュメントURL

- **JRDB API**: REST API、SOAP API の有無
  - エンドポイント一覧
  - 認証方法（APIキー、OAuth など）

- **データ配信ツール**: 専用ソフトウェアの有無
  - ダウンロードURL
  - 使い方

#### 3.2 データ取得範囲
- **過去データの範囲**: 何年分のデータが取得可能か
  - **希望: 2010年1月1日 〜 2025年12月31日（15年分）** ← 最重要
  - 2010年以前のデータも取得可能か？
- **対象競馬場**: 
  - 札幌、函館、福島、新潟、東京、中山、中京、京都、阪神、小倉（10競馬場）
  - 全競馬場のデータを一括取得できるか

#### 3.3 取得可能なデータ項目（全て取得）

##### 基本レース情報（JRA-VANと重複する部分）
- 開催日、競馬場、レース番号
- 距離、馬場状態、トラック種別

##### JRDB独自指数（最重要・全て取得）

**総合評価指数**:
- **IDM（総合指数）** ← 最重要
- **IDM前日値** ← 重要

**タイム・スピード系指数**:
- タイム指数
- ペース指数
- スピード能力指数
- 上がり3ハロン指数

**馬場・コース適性指数**:
- 馬場指数
- コース適性指数
- 距離適性指数
- トラック適性指数（芝/ダート）
- 馬場状態適性指数（良/稍重/重/不良）

**人的要素指数**:
- 騎手指数
- 騎手期待値
- 調教師指数
- 調教師期待値
- 厩舎指数
- 馬主指数（あれば）

**血統・展開指数**:
- 血統指数
- 血統ポイント
- 父馬評価
- 母父馬評価
- 配合評価

**脚質・展開指数**:
- 脚質（逃げ/先行/差し/追込）
- 脚質スコア
- 位置取り指数
- 位置取り予想
- ペース予想
- 展開予想

**調教・馬体指数**:
- 調教評価指数
- 調教タイム指数
- 調教コース指数
- 馬体評価指数
- 馬体重評価
- 馬体重増減評価

**その他指数**:
- パドック評価指数（取得可能な場合）
- 輸送指数
- 休養明け評価
- 距離延長・短縮評価
- クラス昇降評価

##### 前日情報（最重要）
- **前日IDM**
- **前日各種指数**（上記すべての指数の前日値）
- **前日予想**:
  - 予想着順
  - 予想オッズ
  - 本命馬
  - 対抗馬
  - 単穴馬
  - 連下馬
- **前日コメント**:
  - 調教師コメント
  - 厩舎コメント
  - 調教内容
  - 馬体状況
- **前日オッズ分析**:
  - 前日オッズに基づく評価
  - オッズ妥当性評価

##### その他の情報（取得可能な全て）
- **レース分析**:
  - レース展開予想
  - ペース予想詳細
  - 有利・不利枠分析
- **馬体情報**:
  - パドック評価
  - 馬体写真URL（取得可能な場合）
- **厩舎情報**:
  - 厩舎コメント
  - 調教内容詳細
  - 調教評価詳細

### 4. データ保存方法

#### 4.1 ファイル形式
- **推奨形式**: CSV、JSON、Parquet など
- **ファイル構成**: 
  - 1ファイルに全データ？
  - 年別、月別、競馬場別にファイル分割？
  - 推奨されるディレクトリ構造

#### 4.2 データサイズ
- **予想容量**: **15年分のデータで何GB程度か** ← 重要
- **ストレージ要件**: SSD推奨か、HDDでも可能か
- **圧縮の有無**: ZIP、GZ などで圧縮されているか

#### 4.3 保存先ディレクトリ構造（希望）
```
data/jrdb/
├── indices/  # 独自指数データ
│   ├── 2010/
│   │   ├── 01/
│   │   │   ├── 東京_20100101_indices.csv
│   │   │   ├── 中山_20100105_indices.csv
│   │   │   └── ...
│   │   ├── 02/
│   │   └── ...
│   ├── 2011/
│   ├── 2012/
│   ├── 2013/
│   ├── 2014/
│   ├── 2015/
│   ├── 2016/
│   ├── 2017/
│   ├── 2018/
│   ├── 2019/
│   ├── 2020/
│   ├── 2021/
│   ├── 2022/
│   ├── 2023/
│   ├── 2024/
│   └── 2025/
├── pre_day/  # 前日情報
│   ├── 2010/
│   │   ├── 01/
│   │   │   ├── 東京_20100101_pre_day.csv
│   │   │   └── ...
│   │   └── ...
│   └── ...
├── pedigree/  # 血統データ
│   └── pedigree_master.csv
├── comments/  # コメントデータ
│   ├── 2010/
│   └── ...
└── metadata/
    ├── index_definitions.csv  # 各指数の定義
    ├── calculation_methods.txt  # 計算方法の説明
    ├── data_dictionary.csv  # データ辞書
    └── venue_codes.csv
```

### 5. 実装方法（Pythonスクリプト例）

#### 5.1 必要なパッケージ
- JRDB Python SDK（あれば）
- その他の依存パッケージ

#### 5.2 認証方法
- APIキーの取得方法
- 認証情報の保存場所（環境変数など）

#### 5.3 サンプルコード（15年分データ取得）
```python
# 期待されるサンプルコード（具体的なコード例が欲しい）
import jrdb_api  # または該当するSDK
import pandas as pd

# 認証
api_key = "YOUR_JRDB_API_KEY"
jrdb = jrdb_api.initialize(api_key)

# 独自指数データ取得（2010年1月1日〜2025年12月31日、15年分）
start_date = "2010-01-01"
end_date = "2025-12-31"

venues = ["東京", "中山", "阪神", "京都", "中京", "新潟", "福島", "札幌", "函館", "小倉"]

print(f"JRDB独自指数データ取得開始: {start_date} 〜 {end_date}")

# IDM、タイム指数、ペース指数などを含む全データ取得
indices_data = jrdb.get_race_indices(
    start_date=start_date,
    end_date=end_date,
    venues=venues,
    indices=[
        "idm",              # IDM（総合指数）
        "time_index",       # タイム指数
        "pace_index",       # ペース指数
        "track_index",      # 馬場指数
        "position_index",   # 位置取り指数
        "jockey_index",     # 騎手指数
        "trainer_index",    # 調教師指数
        "stable_index",     # 厩舎指数
        "pedigree_index",   # 血統指数
        "pedigree_point",   # 血統ポイント
        "course_aptitude",  # コース適性
        "distance_aptitude",  # 距離適性
        "track_condition_aptitude",  # 馬場状態適性
        "running_style",    # 脚質
        "running_style_score",  # 脚質スコア
        "training_evaluation",  # 調教評価
        "horse_condition",  # 馬体評価
        # ... 他の全指数
    ],
    include_all=True  # 全指数を取得
)

print(f"JRDB独自指数取得完了: {len(indices_data)}件")

# CSV保存
indices_data.to_csv("data/jrdb/indices/jrdb_indices_2010_2025_all.csv", encoding='shift-jis')

# 年別に分割保存（推奨）
for year in range(2010, 2026):
    df_year = indices_data[indices_data['kaisai_nen'] == year]
    output_path = f"data/jrdb/indices/{year}/jrdb_indices_{year}_all.csv"
    df_year.to_csv(output_path, encoding='shift-jis')
    print(f"保存完了: {output_path} ({len(df_year)}件)")
```

#### 5.4 前日情報取得の実装例
```python
# 前日情報（前日IDM、前日各種指数、前日コメントなど）の取得
pre_day_data = jrdb.get_pre_day_info(
    start_date=start_date,
    end_date=end_date,
    venues=venues,
    include_idm=True,        # 前日IDM
    include_indices=True,    # 前日各種指数
    include_comments=True,   # 前日コメント
    include_predictions=True,  # 前日予想
    include_all=True  # 全前日情報を取得
)

print(f"前日情報取得完了: {len(pre_day_data)}件")

# 前日情報を別ファイルで保存
pre_day_data.to_csv("data/jrdb/pre_day/jrdb_pre_day_2010_2025_all.csv", encoding='shift-jis')

# 年別に分割保存
for year in range(2010, 2026):
    df_year = pre_day_data[pre_day_data['kaisai_nen'] == year]
    output_path = f"data/jrdb/pre_day/{year}/jrdb_pre_day_{year}_all.csv"
    df_year.to_csv(output_path, encoding='shift-jis')
    print(f"前日情報保存完了: {output_path} ({len(df_year)}件)")
```

### 6. 注意点・制約

- **利用規約**: データの商用利用、再配布の可否
- **APIレート制限**: 1日あたりの取得上限、リクエスト間隔
  - **15年分のデータ取得にどの程度時間がかかるか？**
  - **分割ダウンロードが必要か？**（例: 年別、月別）
- **データ更新**: 過去データの修正があった場合の対応
- **サポート**: 技術サポートの有無、問い合わせ方法
- **独自指数の著作権**: JRDBの独自指数は著作物であり、取り扱いに注意
- **ストレージ**: **15年分のデータを保存できる十分な容量があるか確認**

### 7. JRA-VAN Data Labとの統合

- **データマージ方法**: 
  - JRA-VANの基本データとJRDBの独自指数をどのようにマージするか
  - 共通キー（race_id、umaban など）
  - マージ後のデータ形式
  
- **実装例**:
```python
# JRA-VANとJRDBのデータマージ
import pandas as pd

# JRA-VANデータ読み込み
df_jravan = pd.read_csv("data/jravan/raw/2025/jra_2025_all.csv", encoding='shift-jis')

# JRDBデータ読み込み
df_jrdb = pd.read_csv("data/jrdb/indices/2025/jrdb_indices_2025_all.csv", encoding='shift-jis')

# race_id, umaban でマージ
df_merged = df_jravan.merge(
    df_jrdb,
    on=['race_id', 'umaban'],
    how='left',  # JRA-VANを基準にLEFT JOIN
    suffixes=('_jravan', '_jrdb')
)

# JRDB指数が欠損している場合は0埋め
jrdb_indices = ['idm', 'time_index', 'pace_index', 'track_index', 'jockey_index', 'trainer_index']
for col in jrdb_indices:
    if col in df_merged.columns:
        df_merged[col] = df_merged[col].fillna(0)

# 統合データ保存
df_merged.to_csv("data/merged/jra_jrdb_2025_merged.csv", encoding='shift-jis')
print(f"統合データ保存完了: {len(df_merged)}件")
```

---

## 🔍 検索キーワード（日本語・英語）

### 日本語
```
JRDB データダウンロード
JRDB API 使い方
JRDB SDK Python
JRDB IDM 取得方法
JRDB 独自指数 CSV
JRDB データ配信
JRDB 料金
JRDB 過去データ
JRDB 15年分データ
JRDB 前日情報
JRDB 前日IDM
競馬データベース JRDB
JRDB タイム指数 ダウンロード
JRDB ペース指数
JRDB 全データ取得
JRDB データ量
```

### 英語
```
JRDB API documentation
JRDB Python SDK
JRDB horse racing data
JRDB index download
JRDB data export
JRDB historical data
JRDB pre-day information
```

---

## 📚 参考になりそうなURL

- 公式サイト: http://www.jrdb.com/ （要確認）
- JRDB SDK: （検索で見つける）
- 技術ドキュメント: （検索で見つける）
- GitHub: （公式SDKやサンプルコードがあるか確認）
- データ仕様書: （検索で見つける）

---

## 🎯 期待される検索結果

### 優先度1: 公式ドキュメント
- JRDB の公式ドキュメント
- JRDB SDK のインストール・使用方法
- **独自指数の定義・計算方法**
- データ仕様書（どのようなカラムがあるか）
- **15年分のデータ取得方法**
- **前日情報（前日IDM、前日各種指数）の取得方法**

### 優先度2: 実装例
- GitHub上のサンプルコード
- 技術ブログ、Qiita記事
- Stack Overflowの質問・回答
- **JRDB独自指数を使用した予想事例**
- **大量データのダウンロード実装例**

### 優先度3: 利用者の体験談
- **15年分のデータ量、ダウンロード時間**
- 実際の使い勝手
- トラブルシューティング
- **独自指数の精度評価**
- ストレージ要件

---

## ✅ 最終成果物（期待）

以下の情報をまとめたドキュメント:

1. **JRDB 登録・契約方法**
   - 料金体系（15年分のデータ取得に必要な料金）
   - 契約手順

2. **データダウンロード手順書（15年分）**
   - 環境構築（SDK インストール）
   - 認証設定
   - データ取得スクリプト（Python）
   - 保存方法
   - **推定ダウンロード時間**
   - **必要なストレージ容量**

3. **独自指数仕様書**
   - IDM、タイム指数、ペース指数などの定義（全20指数以上）
   - 各指数の範囲（最小値〜最大値）
   - 計算方法の概要
   - 使用方法・活用例

4. **前日情報取得方法**
   - 前日IDMの取得手順
   - 前日各種指数の取得手順
   - 前日コメントの取得手順
   - サンプルコード

5. **データ仕様書**
   - カラム一覧（全カラム）
   - データ型
   - サンプルデータ
   - **データ辞書**

6. **JRA-VAN Data Lab との統合方法**
   - データマージの具体的な手順
   - サンプルコード（Python）
   - 統合後のデータ形式

7. **トラブルシューティング**
   - よくあるエラーと対処法
   - 大量データダウンロード時の注意点

---

## 🔑 重要な確認事項

### JRDB独自指数の信頼性
- **IDM（総合指数）** の的中率はどの程度か？
- **前日IDM** と当日IDMの差異はどの程度か？
- 他の独自指数（タイム指数、ペース指数など）の精度は？
- 実際の予想でどの程度活用できるか？

### データ量・コスト
- **15年分のデータ容量**: 何GBか？（予想: 10〜30 GB）
- 月額料金はいくらか？
- データ取得に追加料金は発生するか？
- **ダウンロード時間**: 15年分のダウンロードに何時間かかるか？

### 前日情報の重要性
- **前日IDM**: 前日時点でのIDM値は取得可能か？
- **前日各種指数**: 全指数の前日値は取得可能か？
- **前日コメント**: 調教師コメント、厩舎コメントは取得可能か？
- **前日予想**: JRDB独自の前日予想は取得可能か？

---

**このドキュメントを使用して、JRDB からの15年分データダウンロード方法を徹底的に調査してください。**

**特に、独自指数（IDM、タイム指数、ペース指数など全20指数以上）、前日情報（前日IDM、前日各種指数、前日コメント）のダウンロード方法と、JRA-VAN Data Lab との統合方法に焦点を当ててください。**

**調査完了後、具体的な実装手順とサンプルコードを提供してください。**
